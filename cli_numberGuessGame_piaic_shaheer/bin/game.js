#! /usr/bin/env node

import inquirer from 'inquirer';
import chalk from 'chalk';
/* This guess the number game is a short TypeScript/Node.js project
that allows the user to guess the number generated by the computer.
There are also several ways to alter the game,
like adding more rounds or displaying the score.
It’s quite simple and uses the random function to generate a number. */
function image() {
    console.log("\n\n");
    console.log(chalk.greenBright("              ██████╗ ██╗   ██╗███████╗███████╗███████╗"));
    console.log(chalk.greenBright("             ██╔════╝ ██║   ██║██╔════╝██╔════╝██╔════╝"));
    console.log(chalk.greenBright("             ██║  ███╗██║   ██║█████╗  ███████╗███████╗"));
    console.log(chalk.greenBright("             ██║   ██║██║   ██║██╔══╝  ╚════██║╚════██║"));
    console.log(chalk.greenBright("             ╚██████╔╝╚██████╔╝███████╗███████║███████║"));
    console.log(chalk.greenBright("              ╚═════╝  ╚═════╝ ╚══════╝╚══════╝╚══════╝"));
    console.log(chalk.greenBright("                                                       "));
    console.log(chalk.greenBright("              ██████╗  █████╗ ███╗   ███╗███████╗      "));
    console.log(chalk.greenBright("             ██╔════╝ ██╔══██╗████╗ ████║██╔════╝      "));
    console.log(chalk.greenBright("             ██║  ███╗███████║██╔████╔██║█████╗        "));
    console.log(chalk.greenBright("             ██║   ██║██╔══██║██║╚██╔╝██║██╔══╝        "));
    console.log(chalk.greenBright("             ╚██████╔╝██║  ██║██║ ╚═╝ ██║███████╗      "));
    console.log(chalk.greenBright("              ╚═════╝ ╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝      "));
    console.log(chalk.greenBright("                                                       "));
    console.log("\n\n");
    console.log(chalk.blueBright("              ┳┓      ┓       ┓  ┓     ┏┓┓   ┓       "));
    console.log(chalk.blueBright("              ┃┃┏┓┓┏┏┓┃┏┓┏┓┏┓┏┫  ┣┓┓┏  ┗┓┣┓┏┓┣┓┏┓┏┓┏┓"));
    console.log(chalk.blueBright("              ┻┛┗ ┗┛┗ ┗┗┛┣┛┗ ┗┻  ┗┛┗┫  ┗┛┛┗┗┻┛┗┗ ┗ ┛ "));
    console.log("\n\n");
}
image();
let max = 12;
let min = 1;
let round = 3;
let correctNo = (Math.floor(Math.random() * (max - min + 1)) + min);
var number = await inquirer.prompt([{
        name: 'guess',
        type: 'number',
        message: chalk.bgGreenBright.black('Guess a number between 1 and 12 (both inclusive)'),
    },
]);
while (round !== 0 || number.guess !== correctNo || again.tryOver != correctNo) {
    if (number.guess === correctNo) {
        console.log();
        console.log(chalk.bgCyanBright.black.bold("Correct Guess, YOU WON !"));
        console.log();
        break;
    }
    else if (round === 0 || number.guess === correctNo) {
        break;
    }
    else if (number.guess !== correctNo) {
        do {
            console.log();
            console.log(chalk.bgYellowBright.black.bold("Wrong guess, TRY AGAIN"));
            console.log();
            round -= 1;
            if (round === 0) {
                console.log();
                console.log(chalk.black.bgRedBright.bold("You have no tries left"));
                console.log();
                console.log(chalk.black.bgRedBright.bold("Game Over"));
                console.log();
                break;
            }
            console.log();
            console.log(chalk.black.bgYellowBright.bold(`You have ${round} tries left`));
            console.log();
            if (round === 0) {
                console.log();
                console.log(chalk.black.bgRedBright.bold("Game over."));
                console.log();
                break;
            }
            var again = await inquirer.prompt([{
                    name: "tryOver",
                    type: "number",
                    message: chalk.bgGreenBright.black.bold("Input your guess number again: ")
                }]);
            if (again.tryOver === correctNo) {
                round += 1;
                console.log();
                console.log(chalk.bgCyanBright.black.bold("Correct Guess, YOU WON !"));
                console.log();
                break;
            }
        } while (again.tryOver !== correctNo || round !== 0 || number.guess !== correctNo);
        break;
    }
}
